<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<title>Webentwicklung</title>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-script-type" content="text/javascript" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="de" />
<meta name="author" content="Thomas Heiles" />
<link rel="stylesheet"  type="text/css" href="css/Stylesheet.css">

<link rel="stylesheet" type="text/css" href="css/map.css"></link>
<!--[if IE]>
<link rel="stylesheet" type="text/css" href="css/ie_map.css"></link>
<![endif]-->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="js/main.js"></script>

<script type="text/javascript" src="http://www.openlayers.org/api/OpenLayers.js"></script>
<script type="text/javascript" src="http://www.openstreetmap.org/openlayers/OpenStreetMap.js"></script>
<script type="text/javascript" src="js/tom.js"></script>

<script type="text/javascript">
//<![CDATA[

var map;
var layer_mapnik;
var layer_tah;
var layer_markers;

var loncor = 6.641389; 
var latcor = 49.756667;
var prezoom = 7;

var name = "Dustin";
var popuptext="<font color=\"black\"><b>Dustin<br>Stra&szlig;e 123<br>54290 Trier</b></font>";

function drawmap() {
    // Popup und Popuptext mit evtl. Grafik
   

    OpenLayers.Lang.setCode('de');
    
    // Position und Zoomstufe der Karte
    var lon = loncor;
    var lat = latcor;
    var zoom = prezoom;

    map = new OpenLayers.Map('map', {
        projection: new OpenLayers.Projection("EPSG:900913"),
        displayProjection: new OpenLayers.Projection("EPSG:4326"),
        controls: [
            new OpenLayers.Control.Navigation(),
            new OpenLayers.Control.LayerSwitcher(),
            new OpenLayers.Control.PanZoomBar()],
        maxExtent:
            new OpenLayers.Bounds(-20037508.34,-20037508.34,
                                    20037508.34, 20037508.34),
        numZoomLevels: 18,
        maxResolution: 156543,
        units: 'meters'
    });

    layer_mapnik = new OpenLayers.Layer.OSM.Mapnik("Mapnik");
    layer_markers = new OpenLayers.Layer.Markers("Address", { projection: new OpenLayers.Projection("EPSG:4326"), 
    	                                          visibility: true, displayInLayerSwitcher: false });

    map.addLayers([layer_mapnik, layer_markers]);
    jumpTo(lon, lat, zoom);
 
    // Position des Markers
    addMarker(layer_markers, 6.641389, 49.756667, popuptext);

}

//]]>
</script>


</head>

<body>

<div id="loginBox">
	<div class="login">
	<form action="" method="post" id="loginForm">
		<label for="username">name</label>
		<input type="text" id="username" name="username" required placeholder="enter username" /> 
		<label for="password">password</label>
		<input type="password" id="password" name="password" required placeholder="enter password" />
		<button type="submit">log in</button> 	
	</form>
	</div>
</div>


<div id="mapBox">	
	<div class="wrapper">

		<div class="a">
			<button id="addBtn" type="button">add</button> 
			<button id="updateBtn" type="button">update</button>
			<button id="deleteBtn" type="button">delete</button>
			<button id="showMapBtn" type="button">show map</button>
			<button id="logoutBtn" type="button">logout</button> 
		</div>
		
		<div class="b">	
	  		<div id="map"></div>
	   		
	   		<div id="formBox">
	   		
	   			<div id="formMsg">
	   				Daten wurden gespeichert!
	   			</div>
	   			
	   			<form action="" method="post" id="addForm">
				<label for="firstname">first name</label>
				<input type="text" name="firstname" id="firstname"> 
				
				<label for="lastname"> last name </label>
				<input type="text" name="lastname" id="lastname"> 
				
				<label for="street"> street </label>
				<input type="text" name="street" id="street">
				
				<br class="clear" />
				<label style="float:left;width:120px;"> postcode </label> 
				<label style="float:left;width:100px;"> city </label>
				<br class="clear" />
				
				<input type="text" name="postcode" style="float:left;width:90px;margin-right:10px;">
				<input type="text" name="city" style="float:left;width:180px;">
				<br class="clear" />
				
				<label> country </label>
				<select name="country">
					<option value="de">Deutschland</option>
					<option value="fr">Frankreich</option>
					<option value="es">Spanien</option>
					<option value="au">Österreich</option>
				</select>
				
				<br class="clear" />
				<input name="private" type="checkbox" value="1" style="float:left;margin:15px 10px 0 0"> 
				<label style="float:left;">private</label>
				<br class="clear" />
				
				<button id="addFormBtn"> add </button> 								
				<button id="updateFormBtn"> update </button>
				<br class="clear" />	
				</form>
	   		</div>
	   		
	   		<div id="deleteBox">	   		
	   			<div id="formMsg">
	   				Daten wurden gelöscht!
	   			</div>
	   			
	   			<p>Adresse des zu löschenden Users.</p>
	   			
				<button id="deleteFormBtn"> delete </button> 	
				<br class="clear" />	
	   		</div>
	   	</div>
	   	
	   	<div class="c">
	   		<h2>Personen</h2>
	   		<ul id="navi">
	   		<!-- Popuptexte lassen sich noch mehrmals erstellen, einer pro Typ reicht--> 
	   		<li id="1" onclick="addMarker(layer_markers, 10.529730, 52.247460, getPopuptext(name))">Bob</li>
	   		<li id="2" onclick="store(lisa,popuptext)">Lisa</li>
	   		</ul>
	   	</div>
	   	
	</div>
</div>
	  
</body>



</html>
